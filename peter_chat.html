<!DOCTYPE html>
<html>
	<head>
		<script src="https://code.jquery.com/jquery-git.js"></script>
		<meta charset="utf-8" />
		<script src="/socket.io/socket.io.js"></script>
		<title>PeterChat</title>
		<link rel="stylesheet" type="text/css" media="screen" href="chat_style.css"/>
		<link href="server.js"/>
		<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
			<div id="chat-box">
				<div id="search-box">
					<input type="text" placeholder="Find People or Chats">
				</div>
				<div id="chat-list">
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message" id="recent-message">LOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONG</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
					<div class="chat">
						<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
						<div class="chat-name">Katya Schwendeman</div>
						<div class="recent-message">MESSAGEMESSAGEMESSAGEMESSAGE</div>
						<div class="message-date">Dec 10</div>
					</div>
				</div>
				<div id="profile"></div>
				<div id="chat-title">
					<div class="row w-100">
						<div class="col">Katya Schwendeman</div>
					</div>
				</div>
				<div id="conversation">
					<div class="message-row sent-message">
						<div class="message-content">
							<div id="message-text" class="message-text">LOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row received-message">
						<div class="message-content">
							<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
							<div class="message-text">LOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row sent-message">
						<div class="message-content">
							<div class="message-text">LOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row received-message">
						<div class="message-content">
							<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
							<div class="message-text">LOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONGLOOOOOOOOONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row sent-message">
						<div class="message-content">
							<div class="message-text">LOOOO OOOO OOOO OOOO OOOOO OOOOO OOOO OOOOO OOOOO OOO OO OOO OOOOOO OO OO O OOOO OO OO O OOOOO OOOOO OOOOOO OOOOO OOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOO OOOO OOO OO O O OOOOOOOOO  OOOOO OOOOOO OOOOO ONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row received-message">
						<div class="message-content">
							<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
							<div class="message-text">LOOOO OOOO OOOO OOOO OOOOO OOOOO OOOO OOOOO OOOOO OOO OO OOO OOOOOO OO OO O OOOO OO OO O OOOOO OOOOO OOOOOO OOOOO OOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOO OOOO OOO OO O O OOOOOOOOO  OOOOO OOOOOO OOOOO ONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row sent-message">
						<div class="message-content">
							<div class="message-text">LOOOO OOOO OOOO OOOO OOOOO OOOOO OOOO OOOOO OOOOO OOO OO OOO OOOOOO OO OO O OOOO OO OO O OOOOO OOOOO OOOOOO OOOOO OOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOO OOOO OOO OO O O OOOOOOOOO  OOOOO OOOOOO OOOOO ONG</div>
						</div>
						<div class="message-content">
							<div class="message-text">LOOOO OOOO OOOO OOOO OOOOO OOOOO OOOO OOOOO OOOOO OOO OO OOO OOOOOO OO OO O OOOO OO OO O OOOOO OOOOO OOOOOO OOOOO OOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOO OOOO OOO OO O O OOOOOOOOO  OOOOO OOOOOO OOOOO ONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
					<div class="message-row received-message">
						<div class="message-content">
							<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">
							<div class="message-text">LOOOO OOOO OOOO OOOO OOOOO OOOOO OOOO OOOOO OOOOO OOO OO OOO OOOOOO OO OO O OOOO OO OO O OOOOO OOOOO OOOOOO OOOOO OOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOOO OOOO OOOO OOO OO O O OOOOOOOOO  OOOOO OOOOOO OOOOO ONG</div>
							<div class="message-time">Dec 10</div>
						</div>
					</div>
				</div>
				<div id="message">
					<form id="send" action="">
						<input type="text" autocomplete="off" id="newmessage" placeholder="Send a message">
					</form>
					<script>
						$(function () {
			        var socket = io();
							var msgHtml = '';
							var msgHtmlEnd = '</div>'
							var timeHtml = '<div class="message-time">'
							var timeHtmlEng = '</div>'
							var containerEnd = '</div>\
								</div>'
			        $('#send').submit(function(){
			          socket.emit('sendMessage', $('#newmessage').val());
			          $('#newmessage').val('');
			          return false;
			        });
			        socket.on('sendMessage', function(msg, id){
								if(id == socket.id) {
									msgHtml = '<div class="message-row sent-message">\
										<div class="message-content">\
										<div class="message-text">'
								}
								else{
									msgHtml = '<div class="message-row received-message">\
										<div class="message-content">\
											<img src="th.jpg" alt="Katya Schwendeman" class="profile-pic">\
											<div class="message-text">'
								}
								if(msg.indexOf("/shrug") != -1) {
									msg = "¯\\_(ツ)_/¯";
								} else if (msg.indexOf("/facepalm") != -1){
									msg = "(—‸ლ)";
								}
								var endOfContainer = '';
								//var today = new Date();
								//var time = today.getHours() + ":" + today.getMinutes();
								endOfContainer = timeHtml + timeHtml + timeHtmlEng + containerEnd;
			          $('#conversation').prepend(msgHtml + msg + msgHtmlEnd + endOfContainer);
								$('#recent-message').text(msg);
			        });
			      });
					</script>
				</div>
			</div>
	</body>
</html>
